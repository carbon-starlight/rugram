_Переведено GPT-4o и Google Translate, с момента, когда первый потерял смысл. Искуственные коррекции планируются._

Сводка шагов и результатов <a name="summary">

Мы назначим буквы клавишам, выбрав расположение с наибольшим количеством баллов согласно нашей модели оценки. Однако существует более четырехсот септиллионов, или четырехсот триллионов триллионов (26! = 403 291 461 126 605 635 584 000 000, или 4,032914611 E+26) возможных вариантов расположения 26 букв (24! = 6,204484017 E+23), поэтому мы будем упорядочивать буквы в четыре этапа, основываясь на принципах эргономики. Эти этапы включают: (Шаг 1) назначение восьми наиболее часто встречающихся букв разным клавишам, оптимизацию распределения оставшихся (Шаг 2) восьми наиболее частых букв и (Шаг 3) восьми наименее частых букв (кроме Z и Q), а также (Шаг 4) обмен букв.

Шаг 1: Определение формы расположения клавиш для минимизации поперечных движений пальцев

Мы назначим 24 буквы 8 колонкам с клавишами, разделенным двумя центральными колонками, зарезервированными для знаков препинания. Эти 8 колонок не требуют поперечных движений пальцами при наборе вслепую, поскольку каждой колонке соответствует один палец. К наиболее удобным клавишам относятся клавиши на домашних рядах слева и справа (клавиши 5-8 и 17-20), центральные верхние клавиши (2, 3 и 14, 15), позволяющие длинным средним и безымянным пальцам раскрываться вверх, а также угловые нижние клавиши (9, 12 и 21, 24), позволяющие коротким пальцам сгибаться вниз. Мы назначим две наименее частые буквы, Z и Q (или J), двум наиболее труднодоступным клавишам за пределами 24-клавишных колонок в верхнем правом углу (25 и 26):

        Левая сторона:       Правая сторона:
     1  2  3  4          13 14 15 16 25
     5  6  7  8          17 18 19 20 26
     9 10 11 12          21 22 23 24


Мы будем считать наиболее удобными клавиши, которые нажимаются любой рукой (домашний ряд), безымянным и средним пальцем выше домашнего ряда, а также индексом и мизинцем ниже домашнего ряда, с предпочтением сильных (указательных и средних) пальцев:
    
     -  2  3  -          - 14 15  -  
     5  6  7  8         17 18 19 20  
     9  -  - 12         21  -  - 24


Шаг 2: Распределение наиболее частых букв в зависимости от удобства и частот биграмм

В предыдущих экспериментах, использующих описанные ниже методы, все гласные неизменно автоматически группировались вместе. Ниже мы распределим гласные на одной стороне и наиболее частые согласные на другой, чтобы способствовать балансу и чередованию рук. Поскольку, за исключением букв Z и Q, существует симметрия между левой и правой сторонами клавиатуры, мы позже решим, на какой стороне разместить гласные, а на какой — согласные.

Гласные

E, T, A, O, I, N, S, R, H, L, D, C, U, M, F, P, G, W, Y, B, V, K, X, J, Q, Z

Наиболее частые биграммы, содержащие две гласные, указаны ниже жирным шрифтом — более 10 миллиардов экземпляров в анализе Питера Норвига данных Google:

OU, IO, EA, IE, AI, IA, EI, UE, UA, AU, UI, OI, EO, OA, OE 
    
     OU  24 531 132 241
     IO  23 542 263 265
     EA  19 403 941 063
     IE  10 845 731 320
     AI   8 922 759 715
     IA   8 072 199 471   
     EI   5 169 898 489
     UE   4 158 448 570       
     UA   3 844 138 094   
     AU   3 356 322 923
     UI   2 852 182 384
     OI   2 474 275 212
     EO   2 044 268 477
     OA   1 620 913 259
     OE   1 089 254 517

Мы назначим наиболее частые гласные, встречающиеся более 100 миллиардов раз в анализе Норвига (E=445, A=331, O=272, I=270), четырем из шести наиболее удобных клавиш на левой стороне клавиатуры (клавиши 2, 3, 5, 6, 7, 8). Мы назначим букву E, самую частую в английском языке, на одну из самых сильных (указательный или средний палец) клавиш домашнего ряда, а оставшиеся три буквы — таким образом, чтобы (1) клавиши домашнего ряда, которые нажимаются указательным и средним пальцами, не оставались пустыми, а также чтобы (2) частотные биграммы (более 10 миллиардов случаев в анализе Норвига) не использовали один и тот же палец и (3) читались слева направо (например, EA, а не AE) для удобства набора (внутренний оборот пальцев с мизинца на указательный палец против внешнего оборота с указательного на мизинец). Эти ограничения приводят к трем возможным вариантам расположения четырех гласных.

    - - O -      - - O -      - - - -
    - I E A      I - E A      I O E A
    - - - -      - - - -      - - - -


---

Согласные

На правой стороне клавиатуры мы назначим четырех из пяти наиболее частых согласных (с более чем 5% или 150 миллиардами упоминаний в анализе Норвига: T=331, N=258, S=232, R=224 и H=180) четырем клавишам домашнего ряда. Буква T, как самая частотная согласная, будет назначена одной из сильнейших клавиш (указательному или среднему пальцу) домашнего ряда. Как и для левой стороны, буквы будут размещены так, чтобы наиболее частые биграммы читались справа налево (например, HT, а не TH) для удобства набора. Примеры биграмм с частотой более 10 миллиардов:

     TH 100,272,945,963  3.56% 
     ND  38,129,777,631  1.35%
     ST  29,704,461,829  1.05%
     NT  29,359,771,944  1.04%
     CH  16,854,985,236  0.60%
     NS  14,350,320,288   
     CT  12,997,849,406
     TR  12,006,693,396       
     RS  11,180,732,354   
     NC  11,722,631,112
     RT  10,198,055,461  


На основе вышеуказанных ограничений возможные варианты расположения согласных могут быть следующими:

    - - - -    - - - -    - - - -    - - - -    - - - -
    R T S N    H T S N    H T S R    H T N R    T S N R
    - - - -    - - - -    - - - -    - - - -    - - - -


Пятую согласную можно назначить свободной клавише на левой стороне домашнего ряда, если есть вакантное место, в противном случае — клавише ниже правого указательного пальца (любое другое расположение потребует использования одного пальца для ввода частотной биграммы). Таким образом, мы получаем 20 начальных вариантов раскладки, каждый из которых оставляет 15 клавиш без назначения. Вот пример представления этих раскладок (слева и справа):

    --O- HIEA ----    ---- RTSN ----
    --O- RIEA ----    ---- HTSN ----
    --O- NIEA ----    ---- HTSR ----
    --O- SIEA ----    ---- HTNR ----
    --O- IHEA ----    ---- RTSN ----
    --O- IREA ----    ---- HTSN ----
    --O- INEA ----    ---- HTSR ----
    --O- ISEA ----    ---- HTNR ----
    --O- -IEA ----    ---- RTSN H---
    --O- -IEA ----    ---- HTSN R---
    --O- -IEA ----    ---- HTSR N---
    --O- I-EA ----    ---- RTSN H---
    --O- I-EA ----    ---- HTSN R---
    --O- I-EA ----    ---- HTSR N---
    ---- IOEA ----    ---- RTSN H---
    ---- IOEA ----    ---- HTSN R---
    ---- IOEA ----    ---- HTSR N---
    --O- HIEA ----    ---- TSNR ----
    --O- IHEA ----    ---- TSNR ----


---

Шаг 3: Оптимизация назначения оставшихся букв <a name="step3">

Наша цель — назначить буквы на 17 оставшихся незаполненных клавиш в каждой из 20 начальных раскладок, основываясь на нашей модели оценки. Теоретически это требует расчета всех возможных вариантов размещения для каждой раскладки и выбора варианта с наивысшей оценкой. Однако, поскольку существует более 355 триллионов (17!) способов расстановки 17 букв, мы разобьем назначение на два этапа: для наиболее частых и наименее частых букв.

Наиболее частые буквы

Мы рассчитаем оценки для всех возможных размещений семи наиболее частых оставшихся букв (выделены жирным шрифтом ниже) на пустые клавиши среди 16 наиболее удобных клавиш.

E, T, A, O, I, N, S, R, H, **L, D, C, U, M, F, P**, G, W, Y, B, V, K, X, J, Q, Z


Расположение клавиш для распределения букв:

        Левая сторона:       Правая сторона:
     -  2  3  -          - 14 15  -
     5  6  7  8         17 18 19 20
     9  -  - 12         21  -  - 24

Поскольку существует 5040 (7!) возможных комбинаций из восьми букв для каждой из 21 раскладок, нам нужно оценить и подсчитать 105 840 раскладок. Чтобы оценить каждую расстановку букв, мы строим матрицу частот, где умножаем матрицу, содержащую частоту каждой упорядоченной пары букв (биграммы), на наши матрицы потока и силы, чтобы вычислить оценку.

### Наименее частые буквы
Далее мы вычислим баллы для каждого возможного (40 320 = 8!) расположения наименее частых восьми букв (выделенных жирным шрифтом ниже, кроме Z и Q) в оставшихся ключах, после замены 21 результата выше на дополнительные 846 720 макетов:

E, T, A, O, I, N, S, R, H, L, D, C, U, M, F, P, **G, W, Y, B, V, K, X, J**, Q, Z

Слева: Справа:
1 - - 4 13 - - 16
- - - - - - - - -
- 10 11 - - 22 23 -

#### Дальнейшая оптимизация макетов путем обмена большим количеством букв

Если мы ослабим вышеуказанные фиксированные инициализации и разрешим дальнейший обмен буквами, то мы сможем искать макеты с еще более высокими баллами. В качестве последнего шага оптимизации мы обмениваемся буквами, по восемь клавиш за раз (8! = 40 320), выбранными дважды 14 различными способами, в каждой из 21 приведенных выше раскладок, чтобы получить в общей сложности еще 23 708 160 комбинаций. Мы разрешаем следующим клавишам обмениваться буквами:

1. Верхние ряды
2. Нижние ряды
3. Верхний и нижний ряды с правой стороны
4. Верхний и нижний ряды с левой стороны
5. Верхний правый и нижний левый ряды
6. Верхний левый и нижний правый ряды
7. Центр верхнего и нижнего рядов с обеих сторон
8. Восемь углов
9. Левая половина верхнего и нижнего рядов с обеих сторон
10. Правая половина верхнего и нижнего рядов с обеих сторон
11. Левая половина недомашних рядов слева и правая половина тех же рядов справа
12. Правая половина недомашних рядов слева и левая половина тех же рядов справа
13. Верхний центр и нижние стороны
14. Верхние стороны и нижний центр
15. Повторите 1-14

### **Модель оценки энграмм**

Наш алгоритм оптимизации находит каждую перестановку заданный набор букв, сопоставляет эти перестановки букв с набором клавиш и ранжирует эти сопоставления букв и клавиш в соответствии с оценкой, отражающей простоту набора пар клавиш и частоту пар букв (биграмм). Оценка является средним значением оценок для всех возможных биграмм в этом расположении. Оценка для каждой биграммы является произведением частоты появления этой биграммы, частоты каждого из символов биграммы и факторов потока, силы (и необязательной скорости) для пары клавиш.

#### Факторы, штрафующие за напряженные переходы клавиш

Направление:

- наружу = 0,9: вращение пальцев наружу от указательного пальца к мизинцу (одна рука)

Ловкость:

- сторона_выше_3вне = 0,9
- указательный палец и мизинец нажимают две клавиши, расположенные на один или несколько рядов друг от друга (одна рука)
- сторона_выше_2вне = 0,9^2 = 0,81
- указательный палец нажимает клавишу на один или два ряда выше клавиши безымянного пальца, или
- мизинец нажимает клавишу на один или два ряда выше клавиши среднего пальца (одна рука)
- сторона_выше_1вне = 0,9^3 = 0,729
- указательный палец нажимает клавишу на один или два ряда выше клавиши среднего пальца, или
- мизинец нажимает клавишу на один или два ряда выше клавиши безымянного пальца (одна рука)
- средняя_выше_кольцо = 0,9
- средний палец нажимает клавишу на один или два ряда выше клавиши безымянного пальца (одна рука)
- ring_above_middle = 0,9^3 = 0,729
- безымянный палец нажимает клавишу на один или два ряда выше клавиши среднего пальца (одна рука)
- латерально = 0,9
- боковое движение (указательного или мизинца) пальца за пределы 8 вертикальных столбцов

Расстояние:

- skip_row_3away = 0,9
- указательный и мизинец нажимают две клавиши, которые пропускают исходный ряд (одна рука)
- (например, одна в нижнем ряду, другая в верхнем ряду)
- skip_row_2away = 0,9^3 = 0,729
- мизинец и средний или указательный и безымянный пальцы нажимают две клавиши, которые пропускают исходный ряд (одна рука)
- skip_row_1away = 0,9^5 = 0,59049
- мизинец и безымянный или средний и указательный пальцы нажимают две клавиши, которые пропускают исходный ряд (одна рука)

Повторение:

- skip_row_0away = 0,9^4 = 0,6561
- один и тот же палец нажимает две клавиши, которые пропускают домашнюю строку
- same_finger = 0,9^5 = 0,59049
- снова используйте один и тот же палец для другой клавиши
- нельзя сопровождать outward, side_above или neighbor_shorter_above

Сила: учитывается матрицей силы (минимальное значение для мизинца = 0,9)

### Шаг 4: Оценка победителя по сравнению с другими оптимизированными макетами

После назначения букв Z и Q верхним правым клавишам за пределами домашних блоков и тестирования обмена левой/правой стороной всех букв выигрышная раскладка выглядит так:

B Y O U L D W V Z
C I E A H T S N Q
G X J K R M F P

Мы провели тесты на выигрышной раскладке:

1. Оцените оптимизированные макеты с использованием оценок скорости между клавишами
2. Оцените варианты кандидата-победителя с использованием оценок скорости межключевых соединений
3. Проверьте чувствительность кандидата-победителя к параметрам оценки

Для теста 1 мы переоценили все 20 макетов с наивысшими оценками, оптимизированных из 20 инициализированных макетов, и заменили факторную матрицу на матрицу скорости межключевых соединений. Те же два макета, которые разделили первое место, делают это снова.

Для теста 2 мы переоценили все 5040 вариантов кандидата-победителя, которые разделили первое место, заменив факторную матрицу на матрицу скорости межключевых соединений. Кандидат-победитель набрал самые высокие баллы.

Для теста 3 мы провели тест вариантов макета кандидата-победителя, чтобы увидеть, насколько они устойчивы к удалению параметров оценки. Мы удалили каждый из 11 параметров оценки по одному и ранжировали новые баллы для вариантов. Кандидат-победитель набрал наивысшие баллы в 8 из 11 случаев и второе место в двух других случаях, что демонстрирует, что эта раскладка не чувствительна к индивидуальным параметрам.

### Шаг 5. Расположите небуквенные символы в легко запоминающихся местах

Теперь, когда мы учли все 26 букв, мы обращаем внимание на небуквенные символы, принимая во внимание частоту знаков препинания и простоту запоминания.

### Частота знаков препинания

- Статистические значения частоты знаков препинания в 20 англоязычных странах (таблица 1): <br>
Сан, Кун и Ван, Ронг. (2018). Частотное распределение знаков препинания в английском языке: данные из крупномасштабных корпусов. English Today. 10.1017/S0266078418000512. <br>
https://www.researchgate.net/publication/328512136_Frequency_Distributions_of_Punctuation_Marks_in_English_Evidence_from_Large-scale_Corpora
<br>"частота знаков препинания, подтвержденная для двадцати англоязычных стран и регионов... Данные были получены с помощью GloWbE."
"Корпус GloWbE (2013) — это большой корпус английского языка, собирающий международный английский из интернета, содержащий около 1,9 миллиарда слов текста из двадцати разных стран. Для получения дополнительной информации об используемых корпусах см. https://corpus.byu.edu/."

- Анализ Google N-grams и Twitter: <br>
"Ввод знаков препинания на сенсорных клавиатурах: анализ частоты использования и затрат" <br>
S Malik, L Findlater — College Park: The Human-Computer Interaction Lab. 2013 г. <br>
https://www.cs.umd.edu/sites/default/files/scholarly_papers/Malik.pdf <br>
"корпус Twitter включал в себя значительно большее использование знаков препинания, чем корпус Google, <br>
составляя 7,5% символов в мобильных твитах и ​​7,6% в настольных по сравнению с всего лишь 4,4%... <br>
В корпусе Google только 6 знаков препинания (. -’ ( ) “) встречались чаще, чем [q]"
- «Частоты английских знаков препинания» Вивиан Кук <br>
http://www.viviancook.uk/Punctuation/PunctFigs.htm <br>
«Основано на корпусе системы письма длиной около 459 тысяч слов. <br>
Сюда входят три романа разных типов (276 тысяч слов), <br>
выборки статей из двух газет (55 тысяч), <br>
один бюрократический отчет (94 тысячи) и различные научные статьи <br>
по языковым темам (34 тысячи). Более подробная информация в <br>
Кук, В. Дж. (2013) «Стандартная пунктуация и пунктуация улицы» <br>
в М. Павляк и Л. Аронин (ред.), Essential Topics in Applied Linguistics and Multilingualism, <br>
Springer International Publishing Switzerland (2013), 267-290"

- "Статистическое исследование текущего использования в пунктуации": <br>
Рулен, Х. и Пресси, С. (1924). Статистическое исследование текущего использования в пунктуации. The English Journal, 13(5), 325-331. doi:10.2307/802253

- "Частота символов в компьютерных языках"
автор Xah Lee. <br>
Дата: 2013-05-23. Последнее обновление: 2020-06-29. <br>
http://xahlee.info/comp/computer_language_char_distribution.html <br>
ПРИМЕЧАНИЕ: смещено в сторону C (19,8%) и Py (18,5%), в которых часто используется "_".

Частота:

Солнце: Малик: Рулен: Кук: Ксах:
/1M N-грамм % /10,000 /1,000 Все% JS% Py%

. 42840,02 1,151 535 65,3 6,6 9,4 10,3
 , 44189,96 556 61,6 5,8 8,9 7,5
 " 2,284 44 26,7 3,9 1,6 6,2
 ' 2980,35 0,200 40 24,3 4,4 4,0 8,6
 - 9529,78 0,217 21 15,3 4,1 1,9 3,0
 () 4500,81 0,140 7 7,4 9,8 8,1
 ; 1355,22 0,096 22 3,2 3,8 8,6
 з 0,09 - -
: 3221,82 0,087 11 3,4 3,5 2,8 4,7
? 4154,78 0,032 14 5,6 0,3
/ 0,019 4,0 4,9 1,1
! 2057,22 0,013 3 3,3 0,4
_ 0,001 11,0 2,9 10,5

### Добавьте знаки препинания и цифровые клавиши

Мы назначим наиболее частые знаки препинания согласно Сану и др. (2018) шести клавишам в средних двух столбцах: . , " ' - ? ; : () ! _

B Y O U ' " L D W V Z
C I E A , . H T S N Q
G X J K - ? R M F P

Мы будем использовать клавишу Shift для группировки похожих знаков препинания (разделительные и соединительные знаки в левом среднем столбце и закрывающие знаки в правом среднем столбце):

B Y O U '( ") L D W V Z #$ @`
C I E A ,; .: H T S N Q
G X J K -_ ?! R M F P

**Разделительные знаки (слева)**: запятая разделяет текст в списках; точка с запятой может использоваться вместо запятой для разделения элементов в списке (особенно если эти элементы содержат запятые); открывающая скобка выделяет пояснительное слово, фразу или предложение.

**Соединительные знаки (слева)**: апостроф объединяет слова как сокращения; дефис объединяет слова как соединения; подчеркивание объединяет слова в случаях, когда пробельные символы не допускаются (например, в переменных или именах файлов).

**Закрывающие знаки (справа)**: Предложение обычно заканчивается на точка, вопросительный знак или восклицательный знак. Двоеточие завершает одно утверждение, но предшествует следующему: объяснению, цитате, списку и т. д. Двойные кавычки и закрывающая скобка закрывают слово, предложение или предложение, разделенные открывающей скобкой.

**Цифровые клавиши**:
Цифры обрамлены слева и справа [квадратными скобками] и {фигурными скобками}, доступ к которым осуществляется с помощью клавиши Shift. Каждое из чисел сопряжено с математическим или логическим символом, доступ к которому осуществляется с помощью клавиши Shift:

{ | = ~ + < > ^ & % * } \
[ 1 2 3 4 5 6 7 8 9 0 ] /
1: | (вертикальная черта или «труба» представляет логический оператор ИЛИ: 1 черта, выглядит как число один)
2: = (равно: 2 черточки, как китайский иероглиф «2»)
3: ~ (тильда: «почти равно», часто пишется с 3 черточками, как китайский иероглиф «3»)
4: + (плюс: имеет четыре квадранта; напоминает «4»)
5 & 6: < > («меньше/больше»; эти угловые скобки находятся прямо над другими клавишами скобок)
7: ^ (знак вставки для логического оператора XOR, а также возведения в степень; напоминает «7»)
8: & (амперсанд: логический оператор И; напоминает «8»)
9: % (процент: относится к делению; напоминает «9»)
0: * (звездочка: для умножения; напоминает «0»)

Три оставшиеся клавиши на многих обычных клавиатурах (расположенные по бокам от клавиши Backspace в правом верхнем углу) смещены на специальных клавиатурах, таких как как Kinesis Advantage и Ergodox. Для верхней правой клавиши мы назначим прямой слеш и обратный слеш: / \\. Для оставшихся двух клавиш мы назначим два символа, которые в современном использовании имеют значение в социальных сетях: знак решетки/решетки и знак «at». Решетка или хэштег идентифицирует цифровой контент по определенной теме (клавиша Shift открывает доступ к знаку доллара). Знак «at» идентифицирует местоположение или принадлежность (например, в адресах электронной почты) и действует как «дескриптор» для идентификации пользователей на популярных платформах социальных сетей и онлайн-форумах.

Итоговый макет энграммы:

[{ 1| 2= ​​3~ 4+ 5< 6> 7^ 8& 9% 0* ]} /\
bB yY oO uU '( ") lL ddD wW vV zZ #$ @`
cC iI eE aA ,; .: hH tT sS nN qQ
gG xX jJ kK -_ ?! rR mM fF pP
